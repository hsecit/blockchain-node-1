<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Blockchain info </title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}"/>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
        integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
          integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <style>
  
    </style>
</head>
<body style="background: #f2f2f7">

    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div class="modal-body">
            ...
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary">Save changes</button>
        </div>
        </div>
    </div>
    </div>

    <!-- Page Content -->
    <div class="container">
    
      <!-- Portfolio Item Heading -->
      <h1 class="my-4">Two factor Auth 
        <small>eaxemple</small>
      </h1>
    
      <!-- Portfolio Item Row -->
      <div class="row">
    
        <div class="col-md-8">
          <img class="img-fluid" src="http://placehold.it/750x500" alt="">
        </div>
    
        <div class="col-md-4">
          <h3 class="my-3">Product Description</h3>
          <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam viverra euismod odio, gravida pellentesque urna varius vitae. Sed dui lorem, adipiscing in adipiscing et, interdum nec metus. Mauris ultricies, justo eu convallis placerat, felis enim.</p>
          <h3 class="my-3">Product Details</h3>
          <ul>
            <li>Lorem Ipsum</li>
            <li>Dolor Sit Amet</li>
            <li>Consectetur</li>
            <li>Adipiscing Elit</li>
          </ul>
          <h3>price <strong>405 MAD</strong></h3><br>
              <!-- Button trigger modal -->
            <button type="button" class="btn btn-primary" data-toggle="modal" style="width: 100%;" data-target="#staticBackdrop">
                Buy now
            </button>
  
         </div>
    
      </div>
      <!-- /.row -->
<!-- Modal -->
<div class="modal fade" id="staticBackdrop" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog" role="document" style="padding: 0px;">
    <div class="modal-content">
      <div class="modal-body">
        <div class="">
            <div class="row">
                <div class="col-md-12" style="padding: 0px;">
                    <div id="pay-invoice" class="card">
                        <div class="card-body">
                            <div class="card-title">
                                <h3 class="text-center">Pay Invoice</h3>
                            </div>
                            <hr>
                            <form action="/send_to_bank" method="post" novalidate="novalidate" class="needs-validation">
                                <div class="form-group">
                                    <label for="cc-number" class="control-label mb-1">Card number</label>
                                    <input id="cc-number" name="cc-number"class="form-control cc-number identified visa" required autocomplete="off"  >
                                    <span class="invalid-feedback">Enter a valid 12 to 16 digit card number</span>
                                </div>
                                <div class="row">
                                    <div class="col-6">
                                        <div class="form-group">
                                            <label for="cc-exp" class="control-label mb-1">Expiration</label>
                                            <input id="cc-exp" name="cc-exp" type="tel" class="form-control cc-exp" required placeholder="MM / YY" autocomplete="cc-exp">
                                            <span class="invalid-feedback">Enter the expiration date</span>
                                        </div>
                                    </div>
                                    <div class="col-6">
                                        <label for="x_card_code" class="control-label mb-1">CVV</label>
                                        <div class="input-group">
                                            <input id="x_card_code" name="x_card_code" type="tel" class="form-control cc-cvc" required autocomplete="off">
                                            <span class="invalid-feedback order-last">Enter the 3-digit code on back</span>
                                            <div class="input-group-append">
                                                <div class="input-group-text">
                                                <span class="fa fa-question-circle fa-lg" data-toggle="popover" data-container="body" data-html="true" data-title="CVV" 
                                                data-content="<div class='text-center one-card'>The 3 digit code on back of the card..<div class='visa-mc-cvc-preview'></div></div>"
                                                data-trigger="hover"></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="x_zip" class="control-label mb-1">Postal code</label>
                                    <input id="x_zip" name="x_zip" type="text" class="form-control" value="" data-val="true" data-val-required="Please enter the ZIP/Postal code" autocomplete="postal-code">
                                    <span class="help-block" data-valmsg-for="x_zip" data-valmsg-replace="true"></span>
                                </div>
                            
                                <div>
                                    <button id="payment-button" type="submit" class="btn btn-lg btn-info btn-block">
                                        <i class="fa fa-lock fa-lg"></i>&nbsp;
                                        <span id="payment-button-amount">Pay </span>
                                        <span id="payment-button-sending" style="display:none;">Sendingâ€¦</span>
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>


      </div>
           
    </div>
    </div>
  </div>
</div>
</body>
</html>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

<script>
    $(function () {
        $('[data-toggle="popover"]').popover()
      })
      
      
      
      $("#payment-button").click(function(e) {
      
          
          var form = $(this).parents('form');
          
          var cvv = $('#x_card_code').val();
          var regCVV = /^[0-9]{3,4}$/;
         // <!-- var CardNo = $('#cc-number').val(); -->
          var regCardNo = /^[0-9]{12,16}$/;
          var date = $('#cc-exp').val().split('/');
          var regMonth = /^01|02|03|04|05|06|07|08|09|10|11|12$/;
          var regYear = /^20|21|22|23|24|25|26|27|28|29|30|31$/;
          
          if (form[0].checkValidity() === false) {
            e.preventDefault();
            e.stopPropagation();
          }
          else {
             //if (!regCardNo.test(CardNo)) {
             
              $("#cc-number").addClass('required');
              $("#cc-number").focus();
              alert(" Enter a valid 12 to 16 card number");
              return false;
            }
            else if (!regCVV.test(cvv)) {
             
              $("#x_card_code").addClass('required');
              $("#x_card_code").focus();
              alert(" Enter a valid CVV");
              return false;
            }
            else if (!regMonth.test(date[0]) && !regMonth.test(date[1]) ) {
             
              $("#cc_exp").addClass('required');
              $("#cc_exp").focus();
              alert(" Enter a valid exp date");
              return false;
            }
            
            
            
            form.submit();
          }
          
          form.addClass('was-validated');
      });
</script>